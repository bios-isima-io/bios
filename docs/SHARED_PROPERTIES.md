# biOS Shared Properties

Shared properties are stored in the backend database. They are accessible using SDK `get_property`
and `set_property` methods, for example in python,

```
session = bios.login(server_url, system_admin_email, password)
value = session.get_property("upstream")
session.set_property("upstream", new_upstream)
```

| Property Name                                                                                                                                            | Description                                                                                                                                                                                                                                                                                                         | Value Type | Effect     | Possible Values                                                                                                                | Default                                                                 | Notes                                                           |
| -------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------- | --------------------------------------------------------------- |
| failed_endpoints                                                                                                                                         | List of failed endpoints delimited by line feed                                                                                                                                                                                                                                                                     | String     | trivial    |                                                                                                                                |                                                                         |
| long.prop.inferenceUnitKeywordRules<br>tenant.&lt;tenant name&gt;.long.prop.inferenceUnitKeywordRules                                                    | Rules to infer unit of attributes based on keywords in their names                                                                                                                                                                                                                                                  | String     | trivail    | Example: `{"rules":[{"keywords":["amount"],"unit":"INR"}]}`                                                                    |                                                                         |                                                                 |
| nodes                                                                                                                                                    | line feed separated endpoints                                                                                                                                                                                                                                                                                       | String     | trivial    |                                                                                                                                |                                                                         |
| prop.allowInternalStreamName                                                                                                                             | Flag to allow users to use a name prefixed by underscore (“_”) for a signal/context/tenant name                                                                                                                                                                                                                     | Boolean    | trivial    |                                                                                                                                | false                                                                   |                                                                 |
| prop.apps.biosEndpoint                                                                                                                                   | Bios endpoint                                                                                                                                                                                                                                                                                                       | String     | trivial    |                                                                                                                                |                                                                         |
| prop.apps.deploymentCommand                                                                                                                              | App deployment command path                                                                                                                                                                                                                                                                                         | String     | trivial    |                                                                                                                                | /opt/bios/provision-apps                                                |                                                                 |
| prop.apps.hosts                                                                                                                                          | Defines default Apps service hosts                                                                                                                                                                                                                                                                                  | String     | trivial    | comma separated list of names                                                                                                  |                                                                         |                                                                 |
| prop.apps.lbHosts                                                                                                                                        | Load balancer hosts                                                                                                                                                                                                                                                                                                 | String     | trivial    | comma separated list of URLs                                                                                                   |                                                                         |                                                                 |
| prop.apps.maintainerHost                                                                                                                                 | Maintainer host                                                                                                                                                                                                                                                                                                     | String     | trivial    |                                                                                                                                |                                                                         |                                                                 |
| prop.apps.resourceReservationSeconds                                                                                                                     | Defines reservation seconds for a released resource. New tenants cannot use released resource for a certain period                                                                                                                                                                                                  | Long       | trivial    |                                                                                                                                | 3 * 24 * 3600 (30 days)                                                 |                                                                 |
| prop.apps.sshKeypair                                                                                                                                     | SSH keypair file path                                                                                                                                                                                                                                                                                               | String     | trivial    |                                                                                                                                | /opt/bios/bios.pem                                                      |                                                                 |
| prop.cacheOnlyContexts                                                                                                                                   | Comma separated contexts to enable cache only mode                                                                                                                                                                                                                                                                  | String     | trivial    | `<tenant>.<context>[/<enabled_node_name>[..]][,<tenant>.<context>[..]]`                                                        |                                                                         |                                                                 |
| prop.contextCacheLoadingBatchSize                                                                                                                        | Number of keys to fetch for a batch loading entry cache when the context is entering cache-only mode                                                                                                                                                                                                                | Long       | trivial    | Positive integer                                                                                                               | 32768                                                                   |                                                                 |
| prop.contextCacheMaxNumEntries                                                                                                                           | Numbers of context entries for certain contexts                                                                                                                                                                                                                                                                     | String     | on startup | `<tenant>.<context>:<limit>[,<tenant>.<context>:<limit>[..]]` e.g. `pharmeasy.addToCart__ProductIdByObjectId:4000000,*:524288` |                                                                         |                                                                 |
| prop.contextFeatureBatchSize                                                                                                                             | Number of rows to retrieve from DB per iteration to calculate a context feature                                                                                                                                                                                                                                     | Integer    | trivial    | positive integer                                                                                                               | 32768                                                                   |                                                                 |
| prop.contextMaintenanceBatchSize                                                                                                                         | Number of context keys to fetch for each maintenance batch                                                                                                                                                                                                                                                          | Integer    | trivial    | positive integer                                                                                                               | 8192                                                                    |                                                                 |
| prop.contextMaintenanceInterval                                                                                                                          | Context maintenance interval in milliseconds                                                                                                                                                                                                                                                                        | Long       | trivial    | positive integer                                                                                                               | 120000                                                                  |                                                                 |
| prop.contextMaintenanceMode                                                                                                                              | Context maintenance mode                                                                                                                                                                                                                                                                                            | String     | trivial    | `DISABLED`, `DRY_RUN`, or `ENABLED`                                                                                            | `ENABLED`                                                               |                                                                 |
| prop.contextMaintenanceRevisitIntervalSeconds                                                                                                            | Time interval in seconds since a maintenance cycle is done until the next one starts                                                                                                                                                                                                                                | Long       | trivial    | positive integer                                                                                                               | 36 * 60 * 60                                                            |                                                                 |
| prop.contextMaintenanceSeconds                                                                                                                           | Allowed time to be spent for a cycle of context maintenance. A context maintenance is stopped for the next cycle when the elapsed time exceeds this value at the time of entering the next context                                                                                                                  | Long       | trivial    | positive integer                                                                                                               | 30                                                                      |                                                                 |
| prop.contextSketchUpdateCheckProbability                                                                                                                 | The probability with which the postProcess / digestion worker checks to see whether or not to update context sketches and features. This is done to reduce frequency of expensive checks.                                                                                                                           | Double     | trivial    | Between 0 and 1                                                                                                                | 0.1                                                                     |                                                                 |
| prop.contextSketchUpdateLowThresholdRatio                                                                                                                | Threshold on the fraction of the context that has to change before we prioritize updating its sketches and features                                                                                                                                                                                                 | Double     | trivial    | Between 0 and 1                                                                                                                | 0.1                                                                     |                                                                 |
| prop.contextSketchUpdateMinInterval                                                                                                                      | Minimum amount of time that has to elapse after context sketches have been updated before we even check whether to update the sketches and features again. The time difference is actually calculated as the difference between floor values of last sketch update time and current time, so it is not really exact | Integer    | trivial    | This must be a multiple of prop.defaultSketchesInterval for the check queries to succeed.                                      | 300000                                                                  |                                                                 |
| prop.contextSketchUpdateWorkTimeFactor                                                                                                                   | Heuristic number used to decide when to update sketches and features for a context, based on the size of the context.                                                                                                                                                                                               | Integer    | trivial    | positive integer                                                                                                               | 100                                                                     |                                                                 |
| prop.contextSketchUpdateWorkTimeFactorLow                                                                                                                | Heuristic number used to decide when to update sketches and features for a context, based on the size of the context - applicable when a large fraction of the context has changed (see below for the fraction threshold).                                                                                          | Integer    | trivial    | positive integer                                                                                                               | 2                                                                       |                                                                 |
| prop.defaultSketchesForAttributes                                                                                                                        | List of data sketches to maintain by default for every attribute of every signal.                                                                                                                                                                                                                                   | String     | trivial    | Subset of: `Moments`, `Quantiles`, `DistinctCount`, `SampleCounts`                                                             | `Moments,Quantiles,DistinctCount,SampleCounts`                          |                                                                 |
| prop.defaultSketchesInterval                                                                                                                             | The window size for features created by default for data sketches on each attribute of every signal. The unit is milliseconds.                                                                                                                                                                                      | Integer    | trivial    | positive integer                                                                                                               | 300000 (5 minutes)                                                      |                                                                 |
| prop.featureDelayMarginMillis                                                                                                                            | Milliseconds to wait after the end of a rollup window until starting to process                                                                                                                                                                                                                                     | Long       | trivial    | positive integer                                                                                                               | 5000 (5 seconds)                                                        |                                                                 |
| prop.featureWorkerInterval                                                                                                                               | Interval to invoke DataEngineMaintenance in milliseconds                                                                                                                                                                                                                                                            | Integer    | on startup |                                                                                                                                | Follows server.options property com.tieredfractals.tfos.rollup.interval |                                                                 |
| prop.inferenceInterval                                                                                                                                   | The value specifies Tag Inference how often it updates inferred tags. The unit is milliseconds                                                                                                                                                                                                                      | Integer    | trivial    | positive integer                                                                                                               | 1000L * 60 * 60 * 24; // 1 day                                          |                                                                 |
| prop.inferenceLookback                                                                                                                                   | The value specifies Tag Inference how long to the past to look back the data for building inferred tags.  The unit is milliseconds                                                                                                                                                                                  | Integer    | trivial    | positive integer                                                                                                               | 3600000 (1 hour)                                                        |                                                                 |
| prop.inferenceLowCardinalityLimit<br>prop.inferenceLowCardinalityRatio<br>prop.inferenceTimestampPastLimitDays<br>prop.inferenceTimestampFutureLimitDays | Configurable parameters to tune inference of tags                                                                                                                                                                                                                                                                   | Integer    | trivial    | positive integer                                                                                                               | 100<br>1000<br>100<br>100                                               |                                                                 |
| prop.ingestTimeLagFutureLimitSeconds                                                                                                                     | Maximum time difference in future to calculate insertion time lag.  If out of range, the lag value would be filled in                                                                                                                                                                                               | Long       | trivial    | positive integer                                                                                                               | 3600 (1hour)                                                            |                                                                 |
| prop.ingestTimeLagPastLimitSeconds                                                                                                                       | Maximum time difference in past to calculate insertion time lag.  If out of range, the lag value would be filled in                                                                                                                                                                                                 | Long       | trivial    | positive integer                                                                                                               | 3600 * 24 * 100 (100 days)                                              |                                                                 |
| prop.jwt.allowedClockSkewSeconds                                                                                                                         | Allowed clock skew seconds in validating a JWT token                                                                                                                                                                                                                                                                | Long       | trivial    |                                                                                                                                | 5                                                                       |                                                                 |
| prop.lookupQosThresholdMillis                                                                                                                            | The value specifies how long in milliseconds C-SDK should wait before sending another lookup context request to another server                                                                                                                                                                                      | Integer    |            | positive integer                                                                                                               | 0                                                                       | 0 disables this feature                                         |
| prop.maintenance.fastTrackMargin                                                                                                                         | Milliseconds to wait after the end of a rollup window until starting to process in a fast lane                                                                                                                                                                                                                      | Long       | trivial    | positive integer                                                                                                               | 1000                                                                    |                                                                 |
| prop.maintenance.fastTrackRequiredInterval                                                                                                               | Maximum interval in a feature to be calculated in fast track                                                                                                                                                                                                                                                        | Long       | trivial    | positive integer                                                                                                               | 30000                                                                   | Unit is millisecond                                             |
| prop.maintenance.numFastLanes                                                                                                                            | Maximum number of threads that handles fast track signals                                                                                                                                                                                                                                                           | Integer    | on startup | positive integer                                                                                                               | 2                                                                       |                                                                 |
| prop.maxFeatureIntervalMillis                                                                                                                            | Minimum allowed feature interval in signal/context schema                                                                                                                                                                                                                                                           | Long       | trivial    |                                                                                                                                | 1000 * 60 * 30 (30 mins)                                                |                                                                 |
| prop.maxKeyspaceDeletionsPerMaintenance                                                                                                                  | Maximum number of keyspaces to drop in a maintenance cycle                                                                                                                                                                                                                                                          | Integer    | trivial    | positive integer                                                                                                               | 0 (dry-run)                                                             |                                                                 |
| prop.maxTableDeletionsPerMaintenance                                                                                                                     | Maximum number of tables to drop in a maintenance cycle                                                                                                                                                                                                                                                             | Integer    | trivial    | positive integer                                                                                                               | 1                                                                       |                                                                 |
| prop.minFeatureIntervalMillis                                                                                                                            | Minimum allowed feature interval in signal/context schema                                                                                                                                                                                                                                                           | Long       | trivial    |                                                                                                                                | 100                                                                     | 60000 recommended                                               |
| prop.rollup.suspend                                                                                                                                      | Pauses data post processing                                                                                                                                                                                                                                                                                         | Boolean    | trivial    |                                                                                                                                | false                                                                   |                                                                 |
| prop.rollupDebugSignal                                                                                                                                   | Signal name to log detail post-process activities                                                                                                                                                                                                                                                                   | String     | trivial    |                                                                                                                                |                                                                         | Fundamentally for testing. Avoid setting this parameter in prod |
| prop.rollupDelayReportThreshold                                                                                                                          | Delay time in calculating features to report as error in log                                                                                                                                                                                                                                                        | Long       | trivial    | positive integer                                                                                                               | 60000                                                                   | Unit is millisecond                                             |
| prop.rollupDetailLogEnabled                                                                                                                              | Enables detail log in post post processing                                                                                                                                                                                                                                                                          | Boolean    | trivial    |                                                                                                                                | false                                                                   |                                                                 |
| prop.rollupOverloadThreshold                                                                                                                             | Time lag to report as overloaded. The lag is a time gap between the time when a post-processing task is invoked and the time when a worker thread starts to run it                                                                                                                                                  | Long       | trivial    | positive integer                                                                                                               | 10000                                                                   | Unit is millisecond                                             |
| prop.select.context.db.limit                                                                                                                             | Maximum allowed number of context entry rows to retrieve from DB per query                                                                                                                                                                                                                                          | Long       | trivial    | positive integer                                                                                                               | 10000000                                                                |                                                                 |
| prop.select.context.response.limit                                                                                                                       | Maximum allowed number of context entries per query                                                                                                                                                                                                                                                                 | Long       | trivial    | positive integer                                                                                                               | 2000000                                                                 |                                                                 |
| prop.sharedPropertiesCacheExpiryMillis                                                                                                                   | Cached shared properties expiry milliseconds                                                                                                                                                                                                                                                                        | Integer    | trivial    |                                                                                                                                | 300000                                                                  |                                                                 |
| prop.sketchBlobTimeIndexWidth                                                                                                                            | Granularity of time indexes in sketch blob tables                                                                                                                                                                                                                                                                   | Long       | trivial    | positive integer                                                                                                               | 1000 * 60 * 60 * 24 (1 day)                                             | Unit is millisecond                                             |
| prop.sketchSummaryTimeIndexWidth                                                                                                                         | Granularity of time indexes in sketch summary table                                                                                                                                                                                                                                                                 | Long       | trivial    | positive integer                                                                                                               | 1000 * 60 * 60 * 24 (1 day)                                             | Unit is millisecond                                             |
| prop.stringSampleSize                                                                                                                                    | Max size of string samples stored in data sketches. Strings longer than this size are truncated to this size before being stored in the samples sketches                                                                                                                                                            | Integer    | trivial    | positive integer                                                                                                               | 256                                                                     |                                                                 |
| prop.tableMaintenanceInterval                                                                                                                            | Table maintenance interval in milliseconds                                                                                                                                                                                                                                                                          | Long       | trivial    | positive integer                                                                                                               | 600000                                                                  |                                                                 |
| prop.tableMaintenanceMode                                                                                                                                | Table maintenance mode                                                                                                                                                                                                                                                                                              | String     | trivial    | `DISABLED`, `DRY_RUN`, or `ENABLED`                                                                                            | `ENABLED`                                                               |                                                                 |
| prop.defaultLastNCollectionTtl                                                                                                                           | Default Last N collection item TTL in milliseconds                                                                                                                                                                                                                                                                  | Long       | trivial    | positive integer                                                                                                               | 15 * 24 * 60 * 60 * 1000                                                |                                                                 |
| tenant.&lt;tenant name&gt;.prop.lookupQosThresholdMillis                                                                                                 | This is tenant specific property for the context select Qos feature mentioned above                                                                                                                                                                                                                                 | Integer    |            | positive integer                                                                                                               | null value makes it use the global lookupQosThresholdMillis property    |
| upstream                                                                                                                                                 | Upstream config                                                                                                                                                                                                                                                                                                     | String     | trivial    | JSON string of upstream config object                                                                                          |                                                                         |
